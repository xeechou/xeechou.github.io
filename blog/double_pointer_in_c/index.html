
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Everything you do I can do it with a double pointer in C</title>

    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    
    <link rel="stylesheet" href="/css/style.min.58e6a0ce6d7e938c0120592b91a0a6dd315e58af1741767a76b8dd1e76bc8cd8.css" integrity="sha256-WOagzm1&#43;k4wBIFkrkaCm3TFeWK8XQXZ6drjdHna8jNg=" />
    
    
      
    
  </head>
  <body class="post-template">
    

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>
      
      
        <li class="nav-about-me" role="presentation">
          <a href="/about/">About Me</a>
        </li>
      
      
      
    </ul>
  </div>
</nav>


    <section id="wrapper">
      <a class="hidden-close"></a>

      

<div class="progress-container">
  <span class="progress-bar"></span>
</div>



<header id="post-header" class="has-cover">
  <div class="inner">
    
<nav id="navigation">
  
    
      <span id="home-button" class="nav-button">
        <a class="home-button" href="https://xeechou.net/" title="Home">
          <i class="ic ic-arrow-left"></i> Home
        </a>
      </span>
    
  
  
  <span id="menu-button" class="nav-button">
    <a class="menu-button">
      <i class="ic ic-menu"></i>
      Menu
    </a>
  </span>
  
</nav>

    <h1 class="post-title">Everything you do I can do it with a double pointer in C</h1>
    <span class="post-meta">
      
      <time datetime="2016-08-21">21 Aug 2016</time>
    </span>

    
      <div class="post-cover cover" style="background-image: url('https://xeechou.net/imgs/post-bg.jpg');"></div>
    
  </div>
</header>

<main class="content" role="main">
  <article class="post">
    <div class="inner">
      <section class="post-content"><p>It is 2016, low level coding is not needed anymore. We have programming
languages like <code>javascript</code> and python. When people code everything with a class
and related methods. But do you remember we have a programming language called
C? When we had no class, templates, operator-override or implicit constructor at
esthat time. You actually know what are doing with C, no magic!</p>
<p>I claim no expert to programming, since I only have a four-year-old programming
life. But even you are inexperienced like me, you should still be able to code
some thing in C. IT IS fatigue to code in C, you have no standard containers to
rely on, you spend 10 hours to build a perfect <code>deque</code> data type which works on
amortized O(1) complexity and has no memory leaks before you are able to work on
your project. Awesome!!! But why? Why try to build a huge robust data structure
in a non-OOP language? Instead of trying simulate constructors and destructors,
you could always use a double pointer to do the job. Have you ever seen Linus
Torvalds&rsquo;s double pointer code? It removes on special case where you would make
mistakes.</p>
<p>But really? what can you do with a double pointer in C? Well, Suppose I have
<code>vector</code> data structure and I didn&rsquo;t want to write the code like this:</p>
<pre><code> struct vector {
	 size_t elem_size;
	 void *arr;
}
</code></pre>
<p>we can actually just use a simple array to do the job. If you just pass the
<code>void *</code> to insert function, how can I modify the size of the vector, or insert
anything before header? This should not be a problem with this:</p>
<pre><code>void insert(void **arr, void *elem, size_t *remain_size, size_t *size) {
	size_t old_size = *size;
	if (*remain_size == 0) {
		*arr = realloc(*arr, 2 * *size);
		*remain_size = *size;
		*size = 2;
	}
	*remain_size -= 1;
	
	//copy the elem to the end
}
</code></pre>
</section>

      <section class="post-info">
	


<div class="post-share">

  
  <a class="twitter" href="https://twitter.com/share?url=https://xeechou.net/blog/double_pointer_in_c/&amp;text=Everything%20you%20do%20I%20can%20do%20it%20with%20a%20double%20pointer%20in%20C" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
  </a>

  
  <a class="facebook" href="https://www.facebook.com/sharer.php?u=https://xeechou.net/blog/double_pointer_in_c/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
  </a>

  
  <a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xeechou.net/blog/double_pointer_in_c/&amp;title=Everything%20you%20do%20I%20can%20do%20it%20with%20a%20double%20pointer%20in%20C" onclick="window.open(this.href, 'linkedin-share', 'width=490,height=530');return false;">
    <i class="ic ic-linkedin"></i><span class="hidden">linkedin</span>
  </a>

  
  <a class="reddit" href="http://www.reddit.com/submit?url=https://xeechou.net/blog/double_pointer_in_c/&amp;title=Everything%20you%20do%20I%20can%20do%20it%20with%20a%20double%20pointer%20in%20C" onclick="window.open(this.href, 'reddit-share', 'width=510,height=296');return false;">
    <i class="ic ic-reddit"></i><span class="hidden">reddit</span>
  </a>

  <div class="clear"></div>
</div>

        <aside class="post-tags">
          
            
            <a href="https://xeechou.net/tags/programming">programming</a>
          
            
            <a href="https://xeechou.net/tags/c/c&#43;&#43;">C/C&#43;&#43;</a>
          
        </aside>

        <div class="clear"></div>
      </section>

      

      
      
      <section class="post-comments activated">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "insature" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </section>
      

      <aside class="post-nav">
        
          <a class="post-nav-next" href="https://xeechou.net/blog/six_years_programming/">
            <section class="post-nav-teaser">
              <i class="ic ic-arrow-left"></i>
              <h2 class="post-nav-title">6 years of programming</h2>
              <p class="post-nav-excerpt">I have been studying in programming for 6 years, since my first day of undergrad life. I haven&rsquo;t realized it has been so long, this studying life already took away most of my youth. I was a kid without knowing the toughness of life, to a young man need to worry about jobs and how to start having family.
The computer industry changed vastly in this period. There was no Cloud Computing, Machine Learning was only known in Academics.</p>
            </section>
          </a>
        
        
          <a class="post-nav-prev" href="https://xeechou.net/blog/camera_matrix/">
            <section class="post-nav-teaser">
              <i class="ic ic-arrow-right"></i>
              <h2 class="post-nav-title">View Matrix for projection</h2>
              <p class="post-nav-excerpt">The MVP Matrix $\text{Model} * \text{View} * \text{Projection}$ is the first lesson to render (the so called render is the process so that people can see it on a 2D screen )objects in Computer Graphics, which transfer a 3D object in object space into, in the end, a UV plane.
The Model matrix is simple and easy to understand, simply the translation, scale and rotation, but View matrix and Camera matrix are not obvious(although you can get it for free by single call from glm::lookAt() and glm::perspective()).</p>
            </section>
          </a>
        
        <div class="clear"></div>
      </aside>
    </div>
  </article>
</main>



            <footer id="footer">
        <div class="inner">
          <section class="credits">
            <span class="credits-theme">
              
              
              Theme <a href="https://github.com/zutrinken/attila">Attila</a> by <a href="https://zutrinken.com" rel="nofollow">zutrinken</a>
              |
              
              
              Theme <a href="https://github.com/xeechou/hugo-theme-attila">hugo-theme-attila</a> by <a href="https://xeechou.net" rel="nofollow">xeechou</a>
            </span>
            <span class="credits-software">
              
              Published with <a href="https://gohugo.io">Hugo</a>
            </span>
          </section>
        </div>
      </footer>

    </section>

    
    
    
    
    
    
    
    <script src="/js/script.js"></script>

    
      
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-119901699-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
