
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Everything you do I can do it with a double pointer in C</title>

    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    
    <link rel="stylesheet" href="/css/style.min.ce29cd890387a95acecacde4c07420a4b0e2304b69c6e2ee0ab55af1637a62cd.css" integrity="sha256-zinNiQOHqVrOys3kwHQgpLDiMEtpxuLuCrVa8WN6Ys0=" />
    
    
      
    
    
    
    <script src="/js/qrcode.min.js"></script>

  </head>
  <body class="post-template">
    

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>
      
      
        <li class="nav-about-me" role="presentation">
          <a href="/about/">About Me</a>
        </li>
      
        <li class="nav-emacs-config" role="presentation">
          <a href="/emacs-config/">Emacs Config</a>
        </li>
      
        <li class="nav-rss" role="presentation">
          <a href="/index.xml">RSS</a>
        </li>
      
        <li class="nav-scripts" role="presentation">
          <a href="/gmscripts/">Scripts</a>
        </li>
      
      
      
    </ul>
  </div>
</nav>


    <section id="wrapper">
      <a class="hidden-close"></a>

      

<div class="progress-container">
  <span class="progress-bar"></span>
</div>



<header id="post-header" class="has-cover">
  <div class="inner">
    
<nav id="navigation">
  
    
      <span id="home-button" class="nav-button">
        <a class="home-button" href="https://xeechou.net/" title="Home">
          <i class="icon-left-arrow"></i> Home
        </a>
      </span>
    
  
  
  <span id="menu-button" class="nav-button">
    <a class="menu-button">
      <i class="icon-menu"></i>
      Menu
    </a>
  </span>
  
</nav>

    <h1 class="post-title">Everything you do I can do it with a double pointer in C</h1>
    <span class="post-meta">
      
      <time datetime="2016-08-21">21 Aug 2016</time>
    </span>

    
      <div class="post-cover cover" style="background-image: url('https://xeechou.net/imgs/post-bg.jpg');"></div>
    
  </div>
</header>


<main class="content" role="main">
  <article class="post">
    <div class="inner">
	<section class="post-content"><p>It is 2016, low level coding is not needed anymore. We have programming
languages like <code>javascript</code> and python. When people code everything with a class
and related methods. But do you remember we have a programming language called
C? When we had no class, templates, operator-override or implicit constructor at
esthat time. You actually know what are doing with C, no magic!</p>
<p>I claim no expert to programming, since I only have a four-year-old programming
life. But even you are inexperienced like me, you should still be able to code
some thing in C. IT IS fatigue to code in C, you have no standard containers to
rely on, you spend 10 hours to build a perfect <code>deque</code> data type which works on
amortized O(1) complexity and has no memory leaks before you are able to work on
your project. Awesome!!! But why? Why try to build a huge robust data structure
in a non-OOP language? Instead of trying simulate constructors and destructors,
you could always use a double pointer to do the job. Have you ever seen Linus
Torvalds&rsquo;s double pointer code? It removes on special case where you would make
mistakes.</p>
<p>But really? what can you do with a double pointer in C? Well, Suppose I have
<code>vector</code> data structure and I didn&rsquo;t want to write the code like this:</p>
<pre><code> struct vector {
	 size_t elem_size;
	 void *arr;
}
</code></pre>
<p>we can actually just use a simple array to do the job. If you just pass the
<code>void *</code> to insert function, how can I modify the size of the vector, or insert
anything before header? This should not be a problem with this:</p>
<pre><code>void insert(void **arr, void *elem, size_t *remain_size, size_t *size) {
	size_t old_size = *size;
	if (*remain_size == 0) {
		*arr = realloc(*arr, 2 * *size);
		*remain_size = *size;
		*size = 2;
	}
	*remain_size -= 1;
	
	//copy the elem to the end
}
</code></pre>
</section>

	      <section class="post-info">
	


<div class="post-share">

  
  <a class="twitter" href="https://twitter.com/share?url=https://xeechou.net/posts/double_pointer_in_c/&amp;text=Everything%20you%20do%20I%20can%20do%20it%20with%20a%20double%20pointer%20in%20C" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
    <i class="icon-twitter"></i><span class="hidden">Twitter</span>
  </a>

  
  <a class="facebook" href="https://www.facebook.com/sharer.php?u=https://xeechou.net/posts/double_pointer_in_c/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
    <i class="icon-facebook"></i><span class="hidden">Facebook</span>
  </a>

  
  <a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xeechou.net/posts/double_pointer_in_c/&amp;title=Everything%20you%20do%20I%20can%20do%20it%20with%20a%20double%20pointer%20in%20C" onclick="window.open(this.href, 'linkedin-share', 'width=490,height=530');return false;">
    <i class="icon-linkedin"></i><span class="hidden">linkedin</span>
  </a>

  
  <a class="reddit" href="http://www.reddit.com/submit?url=https://xeechou.net/posts/double_pointer_in_c/&amp;title=Everything%20you%20do%20I%20can%20do%20it%20with%20a%20double%20pointer%20in%20C" onclick="window.open(this.href, 'reddit-share', width=580,height=500);return false;">
    <i class="icon-reddit-alien"></i><span class="hidden">reddit</span>
  </a>

  <a class="wechat" id="wechat-share-btn">
    <i class="icon-wechat" id="wechat-share-icon"></i>
    <div id="wechat-share-modal" class="modal">
      <div class="modal-content">
	<div id="wechat-share"></div>
      </div>
    </div>
  </a>


  <script type="text/javascript">
    var modal = document.getElementById("wechat-share-modal");
    var btn   = document.getElementById("wechat-share-btn");
    var icon  = document.getElementById("wechat-share-icon");
    var span  = document.getElementById("wechat-share-close");

    
    window.onclick = function(event) {
      if (event.target == icon || event.target == btn)
	modal.style.display = "block";
      else if (modal.style.display == "block") {
	modal.style.display = "none";
      }
    };

    
    new QRCode(document.getElementById("wechat-share"), "https://xeechou.net/posts/double_pointer_in_c/");
  </script>

  <div class="clear"></div>
</div>

        <aside class="post-tags">
          
            
            <a href="https://xeechou.net/tags/programming">programming</a>
          
            
            <a href="https://xeechou.net/tags/c/c&#43;&#43;">C/C&#43;&#43;</a>
          
        </aside>

        <div class="clear"></div>
      </section>


	      


	
	
      <section class="post-comments activated">
        <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "insature" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </section>
      

            <aside class="post-nav">
        
        
          <a class="post-nav-prev" href="/posts/six_years_programming/">
            <section class="post-nav-teaser">
              <i class="icon-right-arrow"></i>
              <h2 class="post-nav-title">6 years of programming</h2>
              
            </section>
          </a>
        

          
          <a class="post-nav-next" href="/posts/camera_matrix/">
            <section class="post-nav-teaser">
              <i class="icon-left-arrow"></i>
              <h2 class="post-nav-title">View Matrix for projection</h2>
              
            </section>
          </a>
        

        <div class="clear"></div>
      </aside>


    </div>
  </article>
</main>



            <footer id="footer">
        <div class="inner">
          <section class="credits">
            <span class="credits-theme">
              
              
              Theme <a href="https://github.com/zutrinken/attila">Attila</a> by <a href="https://zutrinken.com" rel="nofollow">zutrinken</a>
              |
              
              
              Theme <a href="https://github.com/xeechou/hugo-theme-attila">hugo-theme-attila</a> by <a href="https://xeechou.net" rel="nofollow">xeechou</a>
            </span>
            <span class="credits-software">
              
              Published with <a href="https://gohugo.io">Hugo</a>
            </span>
          </section>
        </div>
      </footer>

    </section>

    
    
    
    
    
    
    
    <script src="/js/script.js"></script>

    
    
    
    
  </body>
</html>
